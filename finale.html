<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FestifyXR ‚Äî Fest Companion</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="bar">
    <div class="logo">
      <div class="logo-badge"></div>
      <div>FestifyXR</div>
      <span class="pill">Fest Companion</span>
    </div>
    <div class="search">
      <svg width="18" height="18" fill="none" stroke="currentColor"><circle cx="8" cy="8" r="6" stroke-width="1.5"/><path d="M13 13l4 4" stroke-width="1.5"/></svg>
      <input id="search" placeholder="Search events e.g. 'EDM night' or 'Robo Wars'‚Ä¶">
    </div>
    <nav class="nav" id="nav">
      <button data-view="home" class="active">Home</button>
      <button data-view="events">Events</button>
      <button data-view="plan">My Plan</button>
      <button data-view="map">Map</button>
      <button data-view="rewards">Rewards</button>
      <button data-view="buddy">Buddy</button>
      <button data-view="reel">Memory Reel</button>
      <button data-view="admin" id="adminBtn" style="display:none;">Admin</button>
    </nav>
    <div class="user-menu" id="userMenu" style="display:none;">
      <div class="user-avatar" id="userAvatar">U</div>
      <div class="user-dropdown" id="userDropdown">
        <a href="#" id="profileLink">Profile</a>
        <a href="#" id="settingsLink">Settings</a>
        <a href="#" id="switchViewBtn" style="display:none;">Switch to User View</a>
        <hr>
        <a href="#" id="logoutBtn">Logout</a>
      </div>
    </div>
    <button class="btn" id="loginBtn" onclick="showAuth()">Login</button>
  </div>
</header>

<main id="app"></main>

<div id="authContainer" style="display:none;">
  <div class="auth-container">
    <div class="auth-header">
      <h2>Welcome to FestifyXR</h2>
      <p class="muted">Your festival companion app</p>
    </div>
    
    <div class="auth-tabs">
      <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
      <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
    </div>
    
    <div class="role-selection" id="roleSelection">
      <div class="role-option selected" data-role="participant" onclick="selectRole('participant')">
        <div class="role-icon">üë§</div>
        <div class="role-title">Participant</div>
        <div class="role-desc">Access events and earn rewards</div>
      </div>
      <div class="role-option" data-role="admin" onclick="selectRole('admin')">
        <div class="role-icon">‚öôÔ∏è</div>
        <div class="role-title">Admin</div>
        <div class="role-desc">Manage events and users</div>
      </div>
    </div>
    
    <form id="loginForm" class="auth-form active">
      <div class="form-group">
        <label for="loginEmail">Email</label>
        <input type="email" id="loginEmail" class="form-control" placeholder="your@email.com" required>
      </div>
      <div class="form-group">
        <label for="loginPassword">Password</label>
        <input type="password" id="loginPassword" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
      </div>
      <button type="submit" class="btn btn-block">Login</button>
    </form>
    
    <form id="signupForm" class="auth-form">
      <div class="form-group">
        <label for="signupName">Full Name</label>
        <input type="text" id="signupName" class="form-control" placeholder="John Doe" required>
      </div>
      <div class="form-group">
        <label for="signupEmail">Email</label>
        <input type="email" id="signupEmail" class="form-control" placeholder="your@email.com" required>
      </div>
      <div class="form-group">
        <label for="signupPassword">Password</label>
        <input type="password" id="signupPassword" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
      </div>
      <button type="submit" class="btn btn-block">Create Account</button>
    </form>
    
    <div class="auth-footer">
      <p id="authFooterText">Don't have an account? <a href="#" onclick="switchAuthTab('signup')">Sign up</a></p>
    </div>
  </div>
</div>

<footer>
  <div class="footbar">
    <div class="status">
      <div class="dot"></div>
      <div class="muted" id="greet">Welcome!</div>
    </div>
    <div class="row">
      <span class="pill">XP: <b id="xpFoot">0</b></span>
      <button class="btn alt" onclick="openQR()">Scan QR</button>
      <button class="btn ghost" onclick="resetDemo()">Reset Demo</button>
    </div>
  </div>
</footer>

<div class="toast" id="toast"></div>

<!-- Map Info Modal -->
<div id="mapModal" class="map-modal">
  <div class="map-modal-content">
    <div class="map-modal-header">
      <h3 id="modalZoneName">Zone Information</h3>
      <button class="map-modal-close" onclick="closeMapModal()">&times;</button>
    </div>
    <div class="map-modal-body">
      <div class="zone-info" id="zoneInfo">
        <!-- Zone information will be populated here -->
      </div>
    </div>
    <div class="map-modal-footer">
      <button class="btn ghost" onclick="closeMapModal()">Close</button>
      <button class="btn" id="modalNavigateBtn" onclick="navigateToZone()">Navigate</button>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>